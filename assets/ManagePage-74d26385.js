import{a2 as ee,aF as se,s as Be,p as H,d as ne,x as V,y as oe,A as le,z as W,r as _,w as R,N as re,C as G,K as ce,H as me,u as B,I as ke,_ as pe,g as X,e as I,o as _e,P as Oe,L as i,v as Re,Q as ge,ag as he,a0 as ze,q as Ae,aC as Me,aG as ue,O as Ve,aH as Fe,F as Ie,J as Ue,S as De,V as Le,ap as Ke,G as F,a7 as de,E as M,at as D,M as qe,aI as be,as as He,D as We}from"./index-0557f717.js";import{E as ye}from"./el-button-ff911746.js";import{x as Ne,f as Ce,W as Ge,X as Xe,E as L,B as Ye,C as je,l as Je,q as Qe,Y as Ze,Z as ve,_ as et,$ as tt,t as at,D as st,a0 as nt}from"./PostAPI-7d2144a3.js";import{E as te}from"./index-b86f4c0c.js";import{c as O}from"./strings-1e569e5b.js";import{E as K}from"./aria-60e0cdc6.js";const q=e=>{const s=ee(e)?e:[e],n=[];return s.forEach(c=>{var o;ee(c)?n.push(...q(c)):se(c)&&ee(c.children)?n.push(...q(c.children)):(n.push(c),se(c)&&((o=c.component)!=null&&o.subTree)&&n.push(...q(c.component.subTree)))}),n},ot=(e,s,n)=>q(e.subTree).filter(t=>{var a;return se(t)&&((a=t.type)==null?void 0:a.name)===s&&!!t.component}).map(t=>t.component.uid).map(t=>n[t]).filter(t=>!!t),lt=(e,s)=>{const n={},c=Be([]);return{children:c,addChild:a=>{n[a.uid]=a,c.value=ot(e,s,n)},removeChild:a=>{delete n[a],c.value=c.value.filter(g=>g.uid!==a)}}},Y=Symbol("tabsRootContextKey"),rt=H({tabs:{type:ne(Array),default:()=>Ne([])}}),Te="ElTabBar",ct=V({name:Te}),it=V({...ct,props:rt,setup(e,{expose:s}){const n=e,c=X(),o=oe(Y);o||le(Te,"<el-tabs><el-tab-bar /></el-tabs>");const t=W("tabs"),a=_(),g=_(),b=()=>{let p=0,h=0;const f=["top","bottom"].includes(o.props.tabPosition)?"width":"height",u=f==="width"?"x":"y",k=u==="x"?"left":"top";return n.tabs.every($=>{var S,l;const N=(l=(S=c.parent)==null?void 0:S.refs)==null?void 0:l[`tab-${$.uid}`];if(!N)return!1;if(!$.active)return!0;p=N[`offset${O(k)}`],h=N[`client${O(f)}`];const T=window.getComputedStyle(N);return f==="width"&&(n.tabs.length>1&&(h-=Number.parseFloat(T.paddingLeft)+Number.parseFloat(T.paddingRight)),p+=Number.parseFloat(T.paddingLeft)),!1}),{[f]:`${h}px`,transform:`translate${O(u)}(${p}px)`}},m=()=>g.value=b();return R(()=>n.tabs,async()=>{await re(),m()},{immediate:!0}),Ce(a,()=>m()),s({ref:a,update:m}),(p,h)=>(G(),ce("div",{ref_key:"barRef",ref:a,class:me([B(t).e("active-bar"),B(t).is(B(o).props.tabPosition)]),style:ke(g.value)},null,6))}});var ut=pe(it,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const dt=H({panes:{type:ne(Array),default:()=>Ne([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),bt={tabClick:(e,s,n)=>n instanceof Event,tabRemove:(e,s)=>s instanceof Event},fe="ElTabNav",vt=V({name:fe,props:dt,emits:bt,setup(e,{expose:s,emit:n}){const c=X(),o=oe(Y);o||le(fe,"<el-tabs><tab-nav /></el-tabs>");const t=W("tabs"),a=Ge(),g=Xe(),b=_(),m=_(),p=_(),h=_(),f=_(!1),u=_(0),k=_(!1),$=_(!0),S=I(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),l=I(()=>({transform:`translate${S.value==="width"?"X":"Y"}(-${u.value}px)`})),N=()=>{if(!b.value)return;const d=b.value[`offset${O(S.value)}`],v=u.value;if(!v)return;const r=v>d?v-d:0;u.value=r},T=()=>{if(!b.value||!m.value)return;const d=m.value[`offset${O(S.value)}`],v=b.value[`offset${O(S.value)}`],r=u.value;if(d-r<=v)return;const P=d-r>v*2?r+v:d-v;u.value=P},z=async()=>{const d=m.value;if(!f.value||!p.value||!b.value||!d)return;await re();const v=p.value.querySelector(".is-active");if(!v)return;const r=b.value,P=["top","bottom"].includes(o.props.tabPosition),E=v.getBoundingClientRect(),C=r.getBoundingClientRect(),x=P?d.offsetWidth-C.width:d.offsetHeight-C.height,w=u.value;let y=w;P?(E.left<C.left&&(y=w-(C.left-E.left)),E.right>C.right&&(y=w+E.right-C.right)):(E.top<C.top&&(y=w-(C.top-E.top)),E.bottom>C.bottom&&(y=w+(E.bottom-C.bottom))),y=Math.max(y,0),u.value=Math.min(y,x)},U=()=>{var d;if(!m.value||!b.value)return;e.stretch&&((d=h.value)==null||d.update());const v=m.value[`offset${O(S.value)}`],r=b.value[`offset${O(S.value)}`],P=u.value;r<v?(f.value=f.value||{},f.value.prev=P,f.value.next=P+r<v,v-P<r&&(u.value=v-r)):(f.value=!1,P>0&&(u.value=0))},we=d=>{const v=d.code,{up:r,down:P,left:E,right:C}=K;if(![r,P,E,C].includes(v))return;const x=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),w=x.indexOf(d.target);let y;v===E||v===r?w===0?y=x.length-1:y=w-1:w<x.length-1?y=w+1:y=0,x[y].focus({preventScroll:!0}),x[y].click(),ie()},ie=()=>{$.value&&(k.value=!0)},j=()=>k.value=!1;return R(a,d=>{d==="hidden"?$.value=!1:d==="visible"&&setTimeout(()=>$.value=!0,50)}),R(g,d=>{d?setTimeout(()=>$.value=!0,50):$.value=!1}),Ce(p,U),_e(()=>setTimeout(()=>z(),0)),Oe(()=>U()),s({scrollToActiveTab:z,removeFocus:j}),R(()=>e.panes,()=>c.update(),{flush:"post",deep:!0}),()=>{const d=f.value?[i("span",{class:[t.e("nav-prev"),t.is("disabled",!f.value.prev)],onClick:N},[i(L,null,{default:()=>[i(Ye,null,null)]})]),i("span",{class:[t.e("nav-next"),t.is("disabled",!f.value.next)],onClick:T},[i(L,null,{default:()=>[i(je,null,null)]})])]:null,v=e.panes.map((r,P)=>{var E,C,x,w;const y=r.uid,J=r.props.disabled,Q=(C=(E=r.props.name)!=null?E:r.index)!=null?C:`${P}`,Z=!J&&(r.isClosable||e.editable);r.index=`${P}`;const Se=Z?i(L,{class:"is-icon-close",onClick:A=>n("tabRemove",r,A)},{default:()=>[i(Je,null,null)]}):null,$e=((w=(x=r.slots).label)==null?void 0:w.call(x))||r.props.label,xe=!J&&r.active?0:-1;return i("div",{ref:`tab-${y}`,class:[t.e("item"),t.is(o.props.tabPosition),t.is("active",r.active),t.is("disabled",J),t.is("closable",Z),t.is("focus",k.value)],id:`tab-${Q}`,key:`tab-${y}`,"aria-controls":`pane-${Q}`,role:"tab","aria-selected":r.active,tabindex:xe,onFocus:()=>ie(),onBlur:()=>j(),onClick:A=>{j(),n("tabClick",r,Q,A)},onKeydown:A=>{Z&&(A.code===K.delete||A.code===K.backspace)&&n("tabRemove",r,A)}},[$e,Se])});return i("div",{ref:p,class:[t.e("nav-wrap"),t.is("scrollable",!!f.value),t.is(o.props.tabPosition)]},[d,i("div",{class:t.e("nav-scroll"),ref:b},[i("div",{class:[t.e("nav"),t.is(o.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:m,style:l.value,role:"tablist",onKeydown:we},[e.type?null:i(ut,{ref:h,tabs:[...e.panes]},null),v])])])}}}),ft=H({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ne(Function),default:()=>!0},stretch:Boolean}),ae=e=>ze(e)||Ae(e),mt={[he]:e=>ae(e),tabClick:(e,s)=>s instanceof Event,tabChange:e=>ae(e),edit:(e,s)=>["remove","add"].includes(s),tabRemove:e=>ae(e),tabAdd:()=>!0};var pt=V({name:"ElTabs",props:ft,emits:mt,setup(e,{emit:s,slots:n,expose:c}){var o,t;const a=W("tabs"),{children:g,addChild:b,removeChild:m}=lt(X(),"ElTabPane"),p=_(),h=_((t=(o=e.modelValue)!=null?o:e.activeName)!=null?t:"0"),f=l=>{h.value=l,s(he,l),s("tabChange",l)},u=async l=>{var N,T,z;if(!(h.value===l||ve(l)))try{await((N=e.beforeLeave)==null?void 0:N.call(e,l,h.value))!==!1&&(f(l),(z=(T=p.value)==null?void 0:T.removeFocus)==null||z.call(T))}catch{}},k=(l,N,T)=>{l.props.disabled||(u(N),s("tabClick",l,T))},$=(l,N)=>{l.props.disabled||ve(l.props.name)||(N.stopPropagation(),s("edit",l.props.name,"remove"),s("tabRemove",l.props.name))},S=()=>{s("edit",void 0,"add"),s("tabAdd")};return Qe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},I(()=>!!e.activeName)),R(()=>e.activeName,l=>u(l)),R(()=>e.modelValue,l=>u(l)),R(h,async()=>{var l;await re(),(l=p.value)==null||l.scrollToActiveTab()}),Re(Y,{props:e,currentName:h,registerPane:b,unregisterPane:m}),c({currentName:h}),()=>{const l=e.editable||e.addable?i("span",{class:a.e("new-tab"),tabindex:"0",onClick:S,onKeydown:z=>{z.code===K.enter&&S()}},[i(L,{class:a.is("icon-plus")},{default:()=>[i(Ze,null,null)]})]):null,N=i("div",{class:[a.e("header"),a.is(e.tabPosition)]},[l,i(vt,{ref:p,currentName:h.value,editable:e.editable,type:e.type,panes:g.value,stretch:e.stretch,onTabClick:k,onTabRemove:$},null)]),T=i("div",{class:a.e("content")},[ge(n,"default")]);return i("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[N,T]:[T,N]])}}});const _t=H({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),gt=["id","aria-hidden","aria-labelledby"],Pe="ElTabPane",ht=V({name:Pe}),yt=V({...ht,props:_t,setup(e){const s=e,n=X(),c=Me(),o=oe(Y);o||le(Pe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=W("tab-pane"),a=_(),g=I(()=>s.closable||o.props.closable),b=ue(()=>{var u;return o.currentName.value===((u=s.name)!=null?u:a.value)}),m=_(b.value),p=I(()=>{var u;return(u=s.name)!=null?u:a.value}),h=ue(()=>!s.lazy||m.value||b.value);R(b,u=>{u&&(m.value=!0)});const f=Ve({uid:n.uid,slots:c,props:s,paneName:p,active:b,index:a,isClosable:g});return _e(()=>{o.registerPane(f)}),Fe(()=>{o.unregisterPane(f.uid)}),(u,k)=>B(h)?Ie((G(),ce("div",{key:0,id:`pane-${B(p)}`,class:me(B(t).b()),role:"tabpanel","aria-hidden":!B(b),"aria-labelledby":`tab-${B(p)}`},[ge(u.$slots,"default")],10,gt)),[[Ue,B(b)]]):De("v-if",!0)}});var Ee=pe(yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Nt=Le(pt,{TabPane:Ee}),Ct=Ke(Ee);const Tt=F("h1",null,"修改用户信息",-1),Pt={__name:"UserManager",props:{msg:String},setup(e){const s=_(""),n=_(""),c=_(""),o=()=>{et(be(),a=>{n.value=a.data.email,c.value=a.data.userName},a=>{te({title:"获取用户信息失败",type:"error",message:a})})};o();const t=()=>{tt(s.value,be(),a=>{te({title:"修改用户名成功",type:"success",message:a.message}),o()},a=>{te({title:"修改用户名失败",type:"error",message:a})})};return(a,g)=>{const b=at,m=ye;return G(),ce(qe,null,[Tt,F("h3",null,"用户邮箱："+de(n.value),1),F("h3",null,"当前用户名："+de(c.value),1),F("p",null,[i(b,{modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=p=>s.value=p),placeholder:"请输入新的用户名",class:"manage-tabs-input"},null,8,["modelValue"])]),F("p",null,[i(m,{type:"primary",onClick:t},{default:M(()=>[D("修改用户名 ")]),_:1})])],64)}}};const Et={__name:"ManagePage",emits:["response"],setup(e,{emit:s}){s("response","管理");const n=_(0),c=_(0);st(t=>{n.value=t.data.count},t=>{console.log(t)}),nt(t=>{c.value=t.data.count},t=>{console.log(t)});const o=()=>{localStorage.clear(),window.location.href="/login"};return(t,a)=>{const g=Ct,b=ye,m=Nt;return G(),We(m,{"tab-position":"left",class:"manage-tabs"},{default:M(()=>[i(g,{label:"用户管理"},{default:M(()=>[i(Pt)]),_:1}),i(g,{label:"文章管理"},{default:M(()=>[D("文章管理")]),_:1}),i(g,{label:"评论管理"},{default:M(()=>[D("评论管理")]),_:1}),i(g,{label:"退出登录"},{default:M(()=>[i(b,{type:"danger",onClick:o},{default:M(()=>[D("退出登录")]),_:1})]),_:1})]),_:1})}}},Ot=He(Et,[["__scopeId","data-v-7432d9dc"]]);export{Ot as default};
