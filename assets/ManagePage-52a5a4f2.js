import{a2 as ee,aG as se,s as ke,p as q,d as ne,x as V,y as oe,A as le,z as G,r as _,w as R,N as re,C as W,K as ce,H as me,u as k,I as Be,_ as pe,g as j,e as I,o as _e,P as Oe,L as i,v as Re,Q as ge,ag as he,a0 as ze,q as Ae,aD as Me,aH as ue,O as Ve,aI as Fe,F as Ie,J as De,S as Le,V as Ue,ap as Ke,G as F,a7 as de,E as M,at as L,M as He,aA as be,as as qe,D as Ge}from"./index-5497cd9b.js";import{a as te,E as ye}from"./el-button-050d3325.js";import{y as Ne,f as Ce,_ as We,$ as je,m as U,C as Je,D as Qe,l as Xe,E as K,s as Ye,a0 as Ze,a1 as ve,L as et,a2 as tt,v as at,F as st,a3 as nt}from"./PostAPI-134bcdbb.js";import{c as O}from"./strings-7ed0d0aa.js";const H=e=>{const s=ee(e)?e:[e],n=[];return s.forEach(c=>{var o;ee(c)?n.push(...H(c)):se(c)&&ee(c.children)?n.push(...H(c.children)):(n.push(c),se(c)&&((o=c.component)!=null&&o.subTree)&&n.push(...H(c.component.subTree)))}),n},ot=(e,s,n)=>H(e.subTree).filter(t=>{var a;return se(t)&&((a=t.type)==null?void 0:a.name)===s&&!!t.component}).map(t=>t.component.uid).map(t=>n[t]).filter(t=>!!t),lt=(e,s)=>{const n={},c=ke([]);return{children:c,addChild:a=>{n[a.uid]=a,c.value=ot(e,s,n)},removeChild:a=>{delete n[a],c.value=c.value.filter(g=>g.uid!==a)}}},J=Symbol("tabsRootContextKey"),rt=q({tabs:{type:ne(Array),default:()=>Ne([])}}),Te="ElTabBar",ct=V({name:Te}),it=V({...ct,props:rt,setup(e,{expose:s}){const n=e,c=j(),o=oe(J);o||le(Te,"<el-tabs><el-tab-bar /></el-tabs>");const t=G("tabs"),a=_(),g=_(),b=()=>{let p=0,h=0;const f=["top","bottom"].includes(o.props.tabPosition)?"width":"height",u=f==="width"?"x":"y",B=u==="x"?"left":"top";return n.tabs.every($=>{var S,l;const N=(l=(S=c.parent)==null?void 0:S.refs)==null?void 0:l[`tab-${$.uid}`];if(!N)return!1;if(!$.active)return!0;p=N[`offset${O(B)}`],h=N[`client${O(f)}`];const T=window.getComputedStyle(N);return f==="width"&&(n.tabs.length>1&&(h-=Number.parseFloat(T.paddingLeft)+Number.parseFloat(T.paddingRight)),p+=Number.parseFloat(T.paddingLeft)),!1}),{[f]:`${h}px`,transform:`translate${O(u)}(${p}px)`}},m=()=>g.value=b();return R(()=>n.tabs,async()=>{await re(),m()},{immediate:!0}),Ce(a,()=>m()),s({ref:a,update:m}),(p,h)=>(W(),ce("div",{ref_key:"barRef",ref:a,class:me([k(t).e("active-bar"),k(t).is(k(o).props.tabPosition)]),style:Be(g.value)},null,6))}});var ut=pe(it,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const dt=q({panes:{type:ne(Array),default:()=>Ne([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),bt={tabClick:(e,s,n)=>n instanceof Event,tabRemove:(e,s)=>s instanceof Event},fe="ElTabNav",vt=V({name:fe,props:dt,emits:bt,setup(e,{expose:s,emit:n}){const c=j(),o=oe(J);o||le(fe,"<el-tabs><tab-nav /></el-tabs>");const t=G("tabs"),a=We(),g=je(),b=_(),m=_(),p=_(),h=_(),f=_(!1),u=_(0),B=_(!1),$=_(!0),S=I(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),l=I(()=>({transform:`translate${S.value==="width"?"X":"Y"}(-${u.value}px)`})),N=()=>{if(!b.value)return;const d=b.value[`offset${O(S.value)}`],v=u.value;if(!v)return;const r=v>d?v-d:0;u.value=r},T=()=>{if(!b.value||!m.value)return;const d=m.value[`offset${O(S.value)}`],v=b.value[`offset${O(S.value)}`],r=u.value;if(d-r<=v)return;const P=d-r>v*2?r+v:d-v;u.value=P},z=async()=>{const d=m.value;if(!f.value||!p.value||!b.value||!d)return;await re();const v=p.value.querySelector(".is-active");if(!v)return;const r=b.value,P=["top","bottom"].includes(o.props.tabPosition),w=v.getBoundingClientRect(),C=r.getBoundingClientRect(),x=P?d.offsetWidth-C.width:d.offsetHeight-C.height,E=u.value;let y=E;P?(w.left<C.left&&(y=E-(C.left-w.left)),w.right>C.right&&(y=E+w.right-C.right)):(w.top<C.top&&(y=E-(C.top-w.top)),w.bottom>C.bottom&&(y=E+(w.bottom-C.bottom))),y=Math.max(y,0),u.value=Math.min(y,x)},D=()=>{var d;if(!m.value||!b.value)return;e.stretch&&((d=h.value)==null||d.update());const v=m.value[`offset${O(S.value)}`],r=b.value[`offset${O(S.value)}`],P=u.value;r<v?(f.value=f.value||{},f.value.prev=P,f.value.next=P+r<v,v-P<r&&(u.value=v-r)):(f.value=!1,P>0&&(u.value=0))},Ee=d=>{const v=d.code,{up:r,down:P,left:w,right:C}=K;if(![r,P,w,C].includes(v))return;const x=Array.from(d.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),E=x.indexOf(d.target);let y;v===w||v===r?E===0?y=x.length-1:y=E-1:E<x.length-1?y=E+1:y=0,x[y].focus({preventScroll:!0}),x[y].click(),ie()},ie=()=>{$.value&&(B.value=!0)},Q=()=>B.value=!1;return R(a,d=>{d==="hidden"?$.value=!1:d==="visible"&&setTimeout(()=>$.value=!0,50)}),R(g,d=>{d?setTimeout(()=>$.value=!0,50):$.value=!1}),Ce(p,D),_e(()=>setTimeout(()=>z(),0)),Oe(()=>D()),s({scrollToActiveTab:z,removeFocus:Q}),R(()=>e.panes,()=>c.update(),{flush:"post",deep:!0}),()=>{const d=f.value?[i("span",{class:[t.e("nav-prev"),t.is("disabled",!f.value.prev)],onClick:N},[i(U,null,{default:()=>[i(Je,null,null)]})]),i("span",{class:[t.e("nav-next"),t.is("disabled",!f.value.next)],onClick:T},[i(U,null,{default:()=>[i(Qe,null,null)]})])]:null,v=e.panes.map((r,P)=>{var w,C,x,E;const y=r.uid,X=r.props.disabled,Y=(C=(w=r.props.name)!=null?w:r.index)!=null?C:`${P}`,Z=!X&&(r.isClosable||e.editable);r.index=`${P}`;const Se=Z?i(U,{class:"is-icon-close",onClick:A=>n("tabRemove",r,A)},{default:()=>[i(Xe,null,null)]}):null,$e=((E=(x=r.slots).label)==null?void 0:E.call(x))||r.props.label,xe=!X&&r.active?0:-1;return i("div",{ref:`tab-${y}`,class:[t.e("item"),t.is(o.props.tabPosition),t.is("active",r.active),t.is("disabled",X),t.is("closable",Z),t.is("focus",B.value)],id:`tab-${Y}`,key:`tab-${y}`,"aria-controls":`pane-${Y}`,role:"tab","aria-selected":r.active,tabindex:xe,onFocus:()=>ie(),onBlur:()=>Q(),onClick:A=>{Q(),n("tabClick",r,Y,A)},onKeydown:A=>{Z&&(A.code===K.delete||A.code===K.backspace)&&n("tabRemove",r,A)}},[$e,Se])});return i("div",{ref:p,class:[t.e("nav-wrap"),t.is("scrollable",!!f.value),t.is(o.props.tabPosition)]},[d,i("div",{class:t.e("nav-scroll"),ref:b},[i("div",{class:[t.e("nav"),t.is(o.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:m,style:l.value,role:"tablist",onKeydown:Ee},[e.type?null:i(ut,{ref:h,tabs:[...e.panes]},null),v])])])}}}),ft=q({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ne(Function),default:()=>!0},stretch:Boolean}),ae=e=>ze(e)||Ae(e),mt={[he]:e=>ae(e),tabClick:(e,s)=>s instanceof Event,tabChange:e=>ae(e),edit:(e,s)=>["remove","add"].includes(s),tabRemove:e=>ae(e),tabAdd:()=>!0};var pt=V({name:"ElTabs",props:ft,emits:mt,setup(e,{emit:s,slots:n,expose:c}){var o,t;const a=G("tabs"),{children:g,addChild:b,removeChild:m}=lt(j(),"ElTabPane"),p=_(),h=_((t=(o=e.modelValue)!=null?o:e.activeName)!=null?t:"0"),f=l=>{h.value=l,s(he,l),s("tabChange",l)},u=async l=>{var N,T,z;if(!(h.value===l||ve(l)))try{await((N=e.beforeLeave)==null?void 0:N.call(e,l,h.value))!==!1&&(f(l),(z=(T=p.value)==null?void 0:T.removeFocus)==null||z.call(T))}catch{}},B=(l,N,T)=>{l.props.disabled||(u(N),s("tabClick",l,T))},$=(l,N)=>{l.props.disabled||ve(l.props.name)||(N.stopPropagation(),s("edit",l.props.name,"remove"),s("tabRemove",l.props.name))},S=()=>{s("edit",void 0,"add"),s("tabAdd")};return Ye({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},I(()=>!!e.activeName)),R(()=>e.activeName,l=>u(l)),R(()=>e.modelValue,l=>u(l)),R(h,async()=>{var l;await re(),(l=p.value)==null||l.scrollToActiveTab()}),Re(J,{props:e,currentName:h,registerPane:b,unregisterPane:m}),c({currentName:h}),()=>{const l=e.editable||e.addable?i("span",{class:a.e("new-tab"),tabindex:"0",onClick:S,onKeydown:z=>{z.code===K.enter&&S()}},[i(U,{class:a.is("icon-plus")},{default:()=>[i(Ze,null,null)]})]):null,N=i("div",{class:[a.e("header"),a.is(e.tabPosition)]},[l,i(vt,{ref:p,currentName:h.value,editable:e.editable,type:e.type,panes:g.value,stretch:e.stretch,onTabClick:B,onTabRemove:$},null)]),T=i("div",{class:a.e("content")},[ge(n,"default")]);return i("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[N,T]:[T,N]])}}});const _t=q({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),gt=["id","aria-hidden","aria-labelledby"],Pe="ElTabPane",ht=V({name:Pe}),yt=V({...ht,props:_t,setup(e){const s=e,n=j(),c=Me(),o=oe(J);o||le(Pe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=G("tab-pane"),a=_(),g=I(()=>s.closable||o.props.closable),b=ue(()=>{var u;return o.currentName.value===((u=s.name)!=null?u:a.value)}),m=_(b.value),p=I(()=>{var u;return(u=s.name)!=null?u:a.value}),h=ue(()=>!s.lazy||m.value||b.value);R(b,u=>{u&&(m.value=!0)});const f=Ve({uid:n.uid,slots:c,props:s,paneName:p,active:b,index:a,isClosable:g});return _e(()=>{o.registerPane(f)}),Fe(()=>{o.unregisterPane(f.uid)}),(u,B)=>k(h)?Ie((W(),ce("div",{key:0,id:`pane-${k(p)}`,class:me(k(t).b()),role:"tabpanel","aria-hidden":!k(b),"aria-labelledby":`tab-${k(p)}`},[ge(u.$slots,"default")],10,gt)),[[De,k(b)]]):Le("v-if",!0)}});var we=pe(yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Nt=Ue(pt,{TabPane:we}),Ct=Ke(we);const Tt=F("h1",null,"修改用户信息",-1),Pt={__name:"UserManager",props:{msg:String},setup(e){const s=_(""),n=_(""),c=_(""),o=()=>{et(be(),a=>{n.value=a.data.email,c.value=a.data.userName},a=>{te({title:"获取用户信息失败",type:"error",message:a})})};o();const t=()=>{tt(s.value,be(),a=>{te({title:"修改用户名成功",type:"success",message:a.message}),o()},a=>{te({title:"修改用户名失败",type:"error",message:a})})};return(a,g)=>{const b=at,m=ye;return W(),ce(He,null,[Tt,F("h3",null,"用户邮箱："+de(n.value),1),F("h3",null,"当前用户名："+de(c.value),1),F("p",null,[i(b,{modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=p=>s.value=p),placeholder:"请输入新的用户名",class:"manage-tabs-input"},null,8,["modelValue"])]),F("p",null,[i(m,{type:"primary",onClick:t},{default:M(()=>[L("修改用户名 ")]),_:1})])],64)}}};const wt={__name:"ManagePage",emits:["response"],setup(e,{emit:s}){s("response","管理");const n=_(0),c=_(0);st(t=>{n.value=t.data.count},t=>{console.log(t)}),nt(t=>{c.value=t.data.count},t=>{console.log(t)});const o=()=>{localStorage.clear(),window.location.href="/login"};return(t,a)=>{const g=Ct,b=ye,m=Nt;return W(),Ge(m,{"tab-position":"left",class:"manage-tabs"},{default:M(()=>[i(g,{label:"用户管理"},{default:M(()=>[i(Pt)]),_:1}),i(g,{label:"文章管理"},{default:M(()=>[L("文章管理")]),_:1}),i(g,{label:"评论管理"},{default:M(()=>[L("评论管理")]),_:1}),i(g,{label:"退出登录"},{default:M(()=>[i(b,{type:"danger",onClick:o},{default:M(()=>[L("退出登录")]),_:1})]),_:1})]),_:1})}}},kt=qe(wt,[["__scopeId","data-v-7432d9dc"]]);export{kt as default};
