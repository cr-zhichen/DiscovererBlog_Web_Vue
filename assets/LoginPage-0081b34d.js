import{ak as y,ap as V,D as m,x,o as h,e as E,a1 as o,w as a,C as I,am as k,aq as S,ar as B,A as F,ao as L}from"./index-653f6e63.js";/* empty css                   */import{E as N,a as P}from"./el-form-item-c571f07b.js";import{v as T,l as q,a as C,b as p}from"./PostAPI-bf40e351.js";import"./_initCloneObject-16291e29.js";const M=s=>(S("data-v-d1cb3d9c"),s=s(),B(),s),D={class:"login-div"},R=M(()=>F("h1",{class:"login-form-loginText"},"登录",-1)),U={__name:"LoginPage",emits:["response"],setup(s,{emit:c}){const _=V();c("response","登录");const e=m({email:"",password:""}),t=m(!1),g=[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],v=[{required:!0,message:"密码不能为空",trigger:"blur"}],d=async()=>{t.value=!0,q(e.value.email,e.value.password,l=>{t.value=!1,localStorage.setItem("token",l.data.token),p({title:"登录成功",type:"success",message:"欢迎回来"}),_()},l=>{t.value=!1,p({title:"登录失败",type:"error",message:l})})};return(l,r)=>{const u=C,n=P,f=L,b=N,w=T;return x((h(),E("div",D,[R,o(b,{model:e.value,onSubmit:I(d,["prevent"]),class:"login-form"},{default:a(()=>[o(n,{label:"邮箱",prop:"email",rules:g},{default:a(()=>[o(u,{modelValue:e.value.email,"onUpdate:modelValue":r[0]||(r[0]=i=>e.value.email=i),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"password",rules:v},{default:a(()=>[o(u,{modelValue:e.value.password,"onUpdate:modelValue":r[1]||(r[1]=i=>e.value.password=i),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(n,null,{default:a(()=>[o(f,{type:"primary",onClick:d,class:"login-button"},{default:a(()=>[k("登录 ")]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])])),[[w,t.value]])}}},J=y(U,[["__scopeId","data-v-d1cb3d9c"]]);export{J as default};
