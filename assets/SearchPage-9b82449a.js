import{L as rt,a as g,j as $t,b4 as Ve,a7 as Te,b as Ze,d as Me,k as ge,A as k,l as je,u as V,h as Se,n as pl,ad as Ce,z as J,M as He,B as Bt,as as ml,r as Le,P as St,p as te,aQ as vl,_ as ut,o as z,e as A,t as j,y as M,D as re,x as P,R as hl,s as We,i as gl,aI as bl,Y as Q,aO as wt,O as Ne,an as ke,J as tt,G as yl,aR as Sl,H as wl,I as Vl,C as Il,U as At,Q as Dt,E as Cl,a3 as Ol,m as Vt,T as Tl,W as Pe,X as It,q as Ke,w as X,a1 as ve,$ as we,a0 as Ue,f as he,a2 as ie,v as El,b5 as Ml,b6 as zl,ag as Rl,ah as Ll,ai as Nl}from"./index-caa57ff3.js";import{ae as kl,af as $l,m as Bl,g as ne,E as Al,a as Dl,u as Fl,ag as Ct,ah as Hl,ai as Pl,q as Kl,b as Wl,d as Ot}from"./PostAPI-3885f7e1.js";import{B as Ul,u as ql,a as Gl,d as jl,i as Tt,e as Ql,E as Yl,C as Zl}from"./el-popper-3dcabdd8.js";import{i as Xl,E as Jl}from"./index-7de5ac40.js";const Ft=e=>rt?window.requestAnimationFrame(e):setTimeout(e,16),Ht=e=>rt?window.cancelAnimationFrame(e):clearTimeout(e);var Et=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function xl(e,t){return!!(e===t||Et(e)&&Et(t))}function _l(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!xl(e[o],t[o]))return!1;return!0}function en(e,t){t===void 0&&(t=_l);var o=null;function i(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];if(o&&o.lastThis===this&&t(r,o.lastArgs))return o.lastResult;var c=e.apply(this,r);return o={lastResult:c,lastArgs:r,lastThis:this},c}return i.clear=function(){o=null},i}const tn=()=>{const t=$t().proxy.$props;return g(()=>{const o=(i,r,u)=>({});return t.perfMode?kl(o):en(o)})},ln=50,Mt="itemRendered",zt="scroll",Pt="forward",Kt="backward",$e="auto",Wt="smart",Ut="start",Qe="center",qt="end",Ee="horizontal",dt="vertical",nn="ltr",qe="rtl",lt="negative",Gt="positive-ascending",jt="positive-descending",on={[Ee]:"left",[dt]:"top"},an=20,sn={[Ee]:"deltaX",[dt]:"deltaY"},rn=({atEndEdge:e,atStartEdge:t,layout:o},i)=>{let r,u=0;const c=v=>v<0&&t.value||v>0&&e.value;return{hasReachedEdge:c,onWheel:v=>{Ht(r);const p=v[sn[o.value]];c(u)&&c(u+p)||(u+=p,$l()||v.preventDefault(),r=Ft(()=>{i(u),u=0}))}}},nt=Ve({type:Te([Number,Function]),required:!0}),ot=Ve({type:Number}),at=Ve({type:Number,default:2}),un=Ve({type:String,values:["ltr","rtl"],default:"ltr"}),st=Ve({type:Number,default:0}),Ye=Ve({type:Number,required:!0}),Qt=Ve({type:String,values:["horizontal","vertical"],default:dt}),Yt=Ze({className:{type:String,default:""},containerElement:{type:Te([String,Object]),default:"div"},data:{type:Te(Array),default:()=>Bl([])},direction:un,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Te([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),dn=Ze({cache:at,estimatedItemSize:ot,layout:Qt,initScrollOffset:st,total:Ye,itemSize:nt,...Yt}),it={type:Number,default:6},Zt={type:Number,default:0},Xt={type:Number,default:2};Ze({columnCache:at,columnWidth:nt,estimatedColumnWidth:ot,estimatedRowHeight:ot,initScrollLeft:st,initScrollTop:st,itemKey:{type:Te(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:at,rowHeight:nt,totalColumn:Ye,totalRow:Ye,hScrollbarSize:it,vScrollbarSize:it,scrollbarStartGap:Zt,scrollbarEndGap:Xt,role:String,...Yt});const cn=Ze({alwaysOn:Boolean,class:String,layout:Qt,total:Ye,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:it,startGap:Zt,endGap:Xt,visible:Boolean}),et=(e,t)=>e<t?Pt:Kt,Be=e=>e===nn||e===qe||e===Ee;let Ie=null;function Rt(e=!1){if(Ie===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?Ie=jt:(t.scrollLeft=1,t.scrollLeft===0?Ie=lt:Ie=Gt),document.body.removeChild(t),Ie}return Ie}function fn({move:e,size:t,bar:o},i){const r={},u=`translate${o.axis}(${e}px)`;return r[o.size]=t,r.transform=u,r.msTransform=u,r.webkitTransform=u,i==="horizontal"?r.height="100%":r.width="100%",r}const pn=Me({name:"ElVirtualScrollBar",props:cn,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=g(()=>e.startGap+e.endGap),i=ge("virtual-scrollbar"),r=ge("scrollbar"),u=k(),c=k();let n=null,v=null;const p=je({isDragging:!1,traveled:0}),s=g(()=>Ul[e.layout]),f=g(()=>e.clientSize-V(o)),a=g(()=>({position:"absolute",width:`${Ee===e.layout?f.value:e.scrollbarSize}px`,height:`${Ee===e.layout?e.scrollbarSize:f.value}px`,[on[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),w=g(()=>{const b=e.ratio,B=e.clientSize;if(b>=100)return Number.POSITIVE_INFINITY;if(b>=50)return b*B/100;const h=B/3;return Math.floor(Math.min(Math.max(b*B,an),h))}),W=g(()=>{if(!Number.isFinite(w.value))return{display:"none"};const b=`${w.value}px`;return fn({bar:s.value,size:b,move:p.traveled},e.layout)}),$=g(()=>Math.floor(e.clientSize-w.value-V(o))),G=()=>{window.addEventListener("mousemove",I),window.addEventListener("mouseup",Y);const b=V(c);b&&(v=document.onselectstart,document.onselectstart=()=>!1,b.addEventListener("touchmove",I),b.addEventListener("touchend",Y))},T=()=>{window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",Y),document.onselectstart=v,v=null;const b=V(c);b&&(b.removeEventListener("touchmove",I),b.removeEventListener("touchend",Y))},U=b=>{b.stopImmediatePropagation(),!(b.ctrlKey||[1,2].includes(b.button))&&(p.isDragging=!0,p[s.value.axis]=b.currentTarget[s.value.offset]-(b[s.value.client]-b.currentTarget.getBoundingClientRect()[s.value.direction]),t("start-move"),G())},Y=()=>{p.isDragging=!1,p[s.value.axis]=0,t("stop-move"),T()},I=b=>{const{isDragging:B}=p;if(!B||!c.value||!u.value)return;const h=p[s.value.axis];if(!h)return;Ht(n);const S=(u.value.getBoundingClientRect()[s.value.direction]-b[s.value.client])*-1,C=c.value[s.value.offset]-h,D=S-C;n=Ft(()=>{p.traveled=Math.max(e.startGap,Math.min(D,$.value)),t("scroll",D,$.value)})},oe=b=>{const B=Math.abs(b.target.getBoundingClientRect()[s.value.direction]-b[s.value.client]),h=c.value[s.value.offset]/2,S=B-h;p.traveled=Math.max(0,Math.min(S,$.value)),t("scroll",S,$.value)};return Se(()=>e.scrollFrom,b=>{p.isDragging||(p.traveled=Math.ceil(b*$.value))}),pl(()=>{T()}),()=>Ce("div",{role:"presentation",ref:u,class:[i.b(),e.class,(e.alwaysOn||p.isDragging)&&"always-on"],style:a.value,onMousedown:J(oe,["stop","prevent"]),onTouchstartPrevent:U},Ce("div",{ref:c,class:r.e("thumb"),style:W.value,onMousedown:U},[]))}}),Jt=({name:e,getOffset:t,getItemSize:o,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:u,getStopIndexForStartIndex:c,initCache:n,clearCache:v,validateProps:p})=>Me({name:e??"ElVirtualList",props:dn,emits:[Mt,zt],setup(s,{emit:f,expose:a}){p(s);const w=$t(),W=ge("vl"),$=k(n(s,w)),G=tn(),T=k(),U=k(),Y=k(),I=k({isScrolling:!1,scrollDir:"forward",scrollOffset:He(s.initScrollOffset)?s.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:s.scrollbarAlwaysOn}),oe=g(()=>{const{total:m,cache:O}=s,{isScrolling:R,scrollDir:K,scrollOffset:L}=V(I);if(m===0)return[0,0,0,0];const H=u(s,L,V($)),F=c(s,H,L,V($)),pe=!R||K===Kt?Math.max(1,O):1,me=!R||K===Pt?Math.max(1,O):1;return[Math.max(0,H-pe),Math.max(0,Math.min(m-1,F+me)),H,F]}),b=g(()=>r(s,V($))),B=g(()=>Be(s.layout)),h=g(()=>[{position:"relative",[`overflow-${B.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:s.direction,height:He(s.height)?`${s.height}px`:s.height,width:He(s.width)?`${s.width}px`:s.width},s.style]),S=g(()=>{const m=V(b),O=V(B);return{height:O?"100%":`${m}px`,pointerEvents:V(I).isScrolling?"none":void 0,width:O?`${m}px`:"100%"}}),C=g(()=>B.value?s.width:s.height),{onWheel:D}=rn({atStartEdge:g(()=>I.value.scrollOffset<=0),atEndEdge:g(()=>I.value.scrollOffset>=b.value),layout:g(()=>s.layout)},m=>{var O,R;(R=(O=Y.value).onMouseUp)==null||R.call(O),Z(Math.min(I.value.scrollOffset+m,b.value-C.value))}),N=()=>{const{total:m}=s;if(m>0){const[L,H,F,pe]=V(oe);f(Mt,L,H,F,pe)}const{scrollDir:O,scrollOffset:R,updateRequested:K}=V(I);f(zt,O,R,K)},x=m=>{const{clientHeight:O,scrollHeight:R,scrollTop:K}=m.currentTarget,L=V(I);if(L.scrollOffset===K)return;const H=Math.max(0,Math.min(K,R-O));I.value={...L,isScrolling:!0,scrollDir:et(L.scrollOffset,H),scrollOffset:H,updateRequested:!1},te(de)},_=m=>{const{clientWidth:O,scrollLeft:R,scrollWidth:K}=m.currentTarget,L=V(I);if(L.scrollOffset===R)return;const{direction:H}=s;let F=R;if(H===qe)switch(Rt()){case lt:{F=-R;break}case jt:{F=K-O-R;break}}F=Math.max(0,Math.min(F,K-O)),I.value={...L,isScrolling:!0,scrollDir:et(L.scrollOffset,F),scrollOffset:F,updateRequested:!1},te(de)},le=m=>{V(B)?_(m):x(m),N()},ce=(m,O)=>{const R=(b.value-C.value)/O*m;Z(Math.min(b.value-C.value,R))},Z=m=>{m=Math.max(m,0),m!==V(I).scrollOffset&&(I.value={...V(I),scrollOffset:m,scrollDir:et(V(I).scrollOffset,m),updateRequested:!0},te(de))},q=(m,O=$e)=>{const{scrollOffset:R}=V(I);m=Math.max(0,Math.min(m,s.total-1)),Z(t(s,m,O,R,V($)))},ue=m=>{const{direction:O,itemSize:R,layout:K}=s,L=G.value(v&&R,v&&K,v&&O);let H;if(vl(L,String(m)))H=L[m];else{const F=i(s,m,V($)),pe=o(s,m,V($)),me=V(B),Ae=O===qe,ze=me?F:0;L[m]=H={position:"absolute",left:Ae?void 0:`${ze}px`,right:Ae?`${ze}px`:void 0,top:me?0:`${F}px`,height:me?"100%":`${pe}px`,width:me?`${pe}px`:"100%"}}return H},de=()=>{I.value.isScrolling=!1,te(()=>{G.value(-1,null,null)})},fe=()=>{const m=T.value;m&&(m.scrollTop=0)};Bt(()=>{if(!rt)return;const{initScrollOffset:m}=s,O=V(T);He(m)&&O&&(V(B)?O.scrollLeft=m:O.scrollTop=m),N()}),ml(()=>{const{direction:m,layout:O}=s,{scrollOffset:R,updateRequested:K}=V(I),L=V(T);if(K&&L)if(O===Ee)if(m===qe)switch(Rt()){case lt:{L.scrollLeft=-R;break}case Gt:{L.scrollLeft=R;break}default:{const{clientWidth:H,scrollWidth:F}=L;L.scrollLeft=F-H-R;break}}else L.scrollLeft=R;else L.scrollTop=R});const ee={ns:W,clientSize:C,estimatedTotalSize:b,windowStyle:h,windowRef:T,innerRef:U,innerStyle:S,itemsToRender:oe,scrollbarRef:Y,states:I,getItemStyle:ue,onScroll:le,onScrollbarScroll:ce,onWheel:D,scrollTo:Z,scrollToItem:q,resetScrollTop:fe};return a({windowRef:T,innerRef:U,getItemStyleCache:G,scrollTo:Z,scrollToItem:q,resetScrollTop:fe,states:I}),ee},render(s){var f;const{$slots:a,className:w,clientSize:W,containerElement:$,data:G,getItemStyle:T,innerElement:U,itemsToRender:Y,innerStyle:I,layout:oe,total:b,onScroll:B,onScrollbarScroll:h,onWheel:S,states:C,useIsScrolling:D,windowStyle:N,ns:x}=s,[_,le]=Y,ce=Le($),Z=Le(U),q=[];if(b>0)for(let ee=_;ee<=le;ee++)q.push((f=a.default)==null?void 0:f.call(a,{data:G,key:ee,index:ee,isScrolling:D?C.isScrolling:void 0,style:T(ee)}));const ue=[Ce(Z,{style:I,ref:"innerRef"},St(Z)?q:{default:()=>q})],de=Ce(pn,{ref:"scrollbarRef",clientSize:W,layout:oe,onScroll:h,ratio:W*100/this.estimatedTotalSize,scrollFrom:C.scrollOffset/(this.estimatedTotalSize-W),total:b}),fe=Ce(ce,{class:[x.e("window"),w],style:N,onScroll:B,onWheel:S,ref:"windowRef",key:0},St(ce)?[ue]:{default:()=>[ue]});return Ce("div",{key:0,class:[x.e("wrapper"),C.scrollbarAlwaysOn?"always-on":""]},[fe,de])}}),mn=Jt({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:o,layout:i,width:r},u,c,n)=>{const v=Be(i)?r:e,p=Math.max(0,t*o-v),s=Math.min(p,u*o),f=Math.max(0,(u+1)*o-v);switch(c===Wt&&(n>=f-v&&n<=s+v?c=$e:c=Qe),c){case Ut:return s;case qt:return f;case Qe:{const a=Math.round(f+(s-f)/2);return a<Math.ceil(v/2)?0:a>p+Math.floor(v/2)?p:a}case $e:default:return n>=f&&n<=s?n:n<f?f:s}},getStartIndexForOffset:({total:e,itemSize:t},o)=>Math.max(0,Math.min(e-1,Math.floor(o/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:o,layout:i,width:r},u,c)=>{const n=u*o,v=Be(i)?r:e,p=Math.ceil((v+c-n)/o);return Math.max(0,Math.min(t-1,u+p-1))},initCache(){},clearCache:!0,validateProps(){}}),Oe=(e,t,o)=>{const{itemSize:i}=e,{items:r,lastVisitedIndex:u}=o;if(t>u){let c=0;if(u>=0){const n=r[u];c=n.offset+n.size}for(let n=u+1;n<=t;n++){const v=i(n);r[n]={offset:c,size:v},c+=v}o.lastVisitedIndex=t}return r[t]},vn=(e,t,o)=>{const{items:i,lastVisitedIndex:r}=t;return(r>0?i[r].offset:0)>=o?xt(e,t,0,r,o):hn(e,t,Math.max(0,r),o)},xt=(e,t,o,i,r)=>{for(;o<=i;){const u=o+Math.floor((i-o)/2),c=Oe(e,u,t).offset;if(c===r)return u;c<r?o=u+1:c>r&&(i=u-1)}return Math.max(0,o-1)},hn=(e,t,o,i)=>{const{total:r}=e;let u=1;for(;o<r&&Oe(e,o,t).offset<i;)o+=u,u*=2;return xt(e,t,Math.floor(o/2),Math.min(o,r-1),i)},Lt=({total:e},{items:t,estimatedItemSize:o,lastVisitedIndex:i})=>{let r=0;if(i>=e&&(i=e-1),i>=0){const n=t[i];r=n.offset+n.size}const c=(e-i-1)*o;return r+c},gn=Jt({name:"ElDynamicSizeList",getItemOffset:(e,t,o)=>Oe(e,t,o).offset,getItemSize:(e,t,{items:o})=>o[t].size,getEstimatedTotalSize:Lt,getOffset:(e,t,o,i,r)=>{const{height:u,layout:c,width:n}=e,v=Be(c)?n:u,p=Oe(e,t,r),s=Lt(e,r),f=Math.max(0,Math.min(s-v,p.offset)),a=Math.max(0,p.offset-v+p.size);switch(o===Wt&&(i>=a-v&&i<=f+v?o=$e:o=Qe),o){case Ut:return f;case qt:return a;case Qe:return Math.round(a+(f-a)/2);case $e:default:return i>=a&&i<=f?i:i<a?a:f}},getStartIndexForOffset:(e,t,o)=>vn(e,o,t),getStopIndexForStartIndex:(e,t,o,i)=>{const{height:r,total:u,layout:c,width:n}=e,v=Be(c)?n:r,p=Oe(e,t,i),s=o+v;let f=p.offset+p.size,a=t;for(;a<u-1&&f<s;)a++,f+=Oe(e,a,i).size;return a},initCache({estimatedItemSize:e=ln},t){const o={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return o.clearCacheAfterIndex=(i,r=!0)=>{var u,c;o.lastVisitedIndex=Math.min(o.lastVisitedIndex,i-1),(u=t.exposed)==null||u.getItemStyleCache(-1),r&&((c=t.proxy)==null||c.$forceUpdate())},o},clearCache:!1,validateProps:({itemSize:e})=>{}}),bn=Me({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:ge("select")}}});function yn(e,t,o,i,r,u){return e.item.isTitle?(z(),A("div",{key:0,class:M(e.ns.be("group","title")),style:re([e.style,{lineHeight:`${e.height}px`}])},j(e.item.label),7)):(z(),A("div",{key:1,class:M(e.ns.be("group","split")),style:re(e.style)},[P("span",{class:M(e.ns.be("group","split-dash")),style:re({top:`${e.height/2}px`})},null,6)],6))}var Sn=ut(bn,[["render",yn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function wn(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Vn={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:hl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:ql.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Xl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:Te(String),values:Gl,default:"bottom-start"}},In={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Cn=Me({props:In,emits:["select","hover"],setup(e,{emit:t}){const o=ge("select"),{hoverItem:i,selectOptionClick:r}=wn(e,{emit:t});return{ns:o,hoverItem:i,selectOptionClick:r}}}),On=["aria-selected"];function Tn(e,t,o,i,r,u){return z(),A("li",{"aria-selected":e.selected,style:re(e.style),class:M([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...c)=>e.hoverItem&&e.hoverItem(...c)),onClick:t[1]||(t[1]=J((...c)=>e.selectOptionClick&&e.selectOptionClick(...c),["stop"]))},[We(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[P("span",null,j(e.item.label),1)])],46,On)}var En=ut(Cn,[["render",Tn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const _t=Symbol("ElSelectV2Injection");var Mn=Me({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:o}){const i=gl(_t),r=ge("select"),u=k([]),c=k(),n=g(()=>e.data.length);Se(()=>n.value,()=>{var h,S;(S=(h=i.popper.value).updatePopper)==null||S.call(h)});const v=g(()=>bl(i.props.estimatedOptionHeight)),p=g(()=>v.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:h=>u.value[h]}),s=(h=[],S)=>{const{props:{valueKey:C}}=i;return Ne(S)?h&&h.some(D=>ne(D,C)===ne(S,C)):h.includes(S)},f=(h,S)=>{if(Ne(S)){const{valueKey:C}=i.props;return ne(h,C)===ne(S,C)}else return h===S},a=(h,S)=>{const{valueKey:C}=i.props;return i.props.multiple?s(h,ne(S,C)):f(h,ne(S,C))},w=(h,S)=>{const{disabled:C,multiple:D,multipleLimit:N}=i.props;return C||!S&&(D?N>0&&h.length>=N:!1)},W=h=>e.hoveringIndex===h;o({listRef:c,isSized:v,isItemDisabled:w,isItemHovering:W,isItemSelected:a,scrollToItem:h=>{const S=c.value;S&&S.scrollToItem(h)},resetScrollTop:()=>{const h=c.value;h&&h.resetScrollTop()}});const T=h=>{const{index:S,data:C,style:D}=h,N=V(v),{itemSize:x,estimatedSize:_}=V(p),{modelValue:le}=i.props,{onSelect:ce,onHover:Z}=i,q=C[S];if(q.type==="Group")return Q(Sn,{item:q,style:D,height:N?x:_},null);const ue=a(le,q),de=w(le,ue),fe=W(S);return Q(En,wt(h,{selected:ue,disabled:q.disabled||de,created:!!q.created,hovering:fe,item:q,onSelect:ce,onHover:Z}),{default:ee=>{var m;return((m=t.default)==null?void 0:m.call(t,ee))||Q("span",null,[q.label])}})},{onKeyboardNavigate:U,onKeyboardSelect:Y}=i,I=()=>{U("forward")},oe=()=>{U("backward")},b=()=>{i.expanded=!1},B=h=>{const{code:S}=h,{tab:C,esc:D,down:N,up:x,enter:_}=Al;switch(S!==C&&(h.preventDefault(),h.stopPropagation()),S){case C:case D:{b();break}case N:{I();break}case x:{oe();break}case _:{Y();break}}};return()=>{var h;const{data:S,width:C}=e,{height:D,multiple:N,scrollbarAlwaysOn:x}=i.props;if(S.length===0)return Q("div",{class:r.b("dropdown"),style:{width:`${C}px`}},[(h=t.empty)==null?void 0:h.call(t)]);const _=V(v)?mn:gn;return Q("div",{class:[r.b("dropdown"),r.is("multiple",N)]},[Q(_,wt({ref:c},V(p),{className:r.be("dropdown","list"),scrollbarAlwaysOn:x,data:S,height:D,width:C,total:S.length,onKeydown:B}),{default:le=>Q(T,le,null)})])}}});function zn(e,t){const o=k(0),i=k(null),r=g(()=>e.allowCreate&&e.filterable);function u(s){const f=a=>a.value===s;return e.options&&e.options.some(f)||t.createdOptions.some(f)}function c(s){r.value&&(e.multiple&&s.created?o.value++:i.value=s)}function n(s){if(r.value)if(s&&s.length>0&&!u(s)){const f={value:s,label:s,created:!0,disabled:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=f:t.createdOptions.push(f)}else if(e.multiple)t.createdOptions.length=o.value;else{const f=i.value;t.createdOptions.length=0,f&&f.created&&t.createdOptions.push(f)}}function v(s){if(!r.value||!s||!s.created||s.created&&e.reserveKeyword&&t.inputValue===s.label)return;const f=t.createdOptions.findIndex(a=>a.value===s.value);~f&&(t.createdOptions.splice(f,1),o.value--)}function p(){r.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:n,removeNewOption:v,selectNewOption:c,clearAllNewOption:p}}const Rn=e=>{const t=[];return e.forEach(o=>{ke(o.options)?(t.push({label:o.label,isTitle:!0,type:"Group"}),o.options.forEach(i=>{t.push(i)}),t.push({type:"Group"})):t.push(o)}),t};function Ln(e){const t=k(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:u=>{const c=u.target.value,n=c[c.length-1]||"";t.value=!Dl(n)},handleCompositionEnd:u=>{t.value&&(t.value=!1,tt(e)&&e(u))}}}const Nt="",kt=11,Nn={larget:51,default:42,small:33},kn=(e,t)=>{const{t:o}=Fl(),i=ge("select-v2"),r=ge("input"),{form:u,formItem:c}=yl(),n=je({inputValue:Nt,displayInputValue:Nt,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),v=k(-1),p=k(-1),s=k(null),f=k(null),a=k(null),w=k(null),W=k(null),$=k(null),G=k(null),T=k(!1),U=g(()=>e.disabled||(u==null?void 0:u.disabled)),Y=g(()=>{const l=N.value.length*34;return l>e.height?e.height:l}),I=g(()=>!Ct(e.modelValue)),oe=g(()=>{const l=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:I.value;return e.clearable&&!U.value&&n.comboBoxHovering&&l}),b=g(()=>e.remote&&e.filterable?"":Sl),B=g(()=>b.value&&i.is("reverse",T.value)),h=g(()=>(c==null?void 0:c.validateState)||""),S=g(()=>Hl[h.value]),C=g(()=>e.remote?300:0),D=g(()=>{const l=N.value;return e.loading?e.loadingText||o("el.select.loading"):e.remote&&n.inputValue===""&&l.length===0?!1:e.filterable&&n.inputValue&&l.length>0?e.noMatchText||o("el.select.noMatch"):l.length===0?e.noDataText||o("el.select.noData"):null}),N=g(()=>{const l=d=>{const y=n.inputValue,E=new RegExp(Ql(y),"i");return y?E.test(d.label||""):!0};return e.loading?[]:Rn(e.options.concat(n.createdOptions).map(d=>{if(ke(d.options)){const y=d.options.filter(l);if(y.length>0)return{...d,options:y}}else if(e.remote||l(d))return d;return null}).filter(d=>d!==null))}),x=g(()=>N.value.every(l=>l.disabled)),_=wl(),le=g(()=>_.value==="small"?"small":"default"),ce=g(()=>{const l=$.value,d=le.value||"default",y=l?Number.parseInt(getComputedStyle(l).paddingLeft):0,E=l?Number.parseInt(getComputedStyle(l).paddingRight):0;return n.selectWidth-E-y-Nn[d]}),Z=()=>{var l;p.value=((l=W.value)==null?void 0:l.offsetWidth)||200},q=g(()=>({width:`${n.calculatedWidth===0?kt:Math.ceil(n.calculatedWidth)+kt}px`})),ue=g(()=>ke(e.modelValue)?e.modelValue.length===0&&!n.displayInputValue:e.filterable?n.displayInputValue.length===0:!0),de=g(()=>{const l=e.placeholder||o("el.select.placeholder");return e.multiple||Ct(e.modelValue)?l:n.selectedLabel}),fe=g(()=>{var l,d;return(d=(l=w.value)==null?void 0:l.popperRef)==null?void 0:d.contentRef}),ee=g(()=>{if(e.multiple){const l=e.modelValue.length;if(e.modelValue.length>0)return N.value.findIndex(d=>d.value===e.modelValue[l-1])}else if(e.modelValue)return N.value.findIndex(l=>l.value===e.modelValue);return-1}),m=g({get(){return T.value&&D.value!==!1},set(l){T.value=l}}),O=g(()=>n.cachedOptions.slice(0,e.maxCollapseTags)),R=g(()=>n.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:K,removeNewOption:L,selectNewOption:H,clearAllNewOption:F}=zn(e,n),{handleCompositionStart:pe,handleCompositionUpdate:me,handleCompositionEnd:Ae}=Ln(l=>yt(l)),ze=()=>{var l,d,y;(d=(l=f.value)==null?void 0:l.focus)==null||d.call(l),(y=w.value)==null||y.updatePopper()},Xe=()=>{if(!e.automaticDropdown&&!U.value)return n.isComposing&&(n.softFocus=!0),te(()=>{var l,d;T.value=!T.value,(d=(l=f.value)==null?void 0:l.focus)==null||d.call(l)})},ct=()=>(e.filterable&&n.inputValue!==n.selectedLabel&&(n.query=n.selectedLabel),pt(n.inputValue),te(()=>{K(n.inputValue)})),ft=jl(ct,C.value),pt=l=>{n.previousQuery!==l&&(n.previousQuery=l,e.filterable&&tt(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&tt(e.remoteMethod)&&e.remoteMethod(l))},el=l=>{Tt(e.modelValue,l)||t(Dt,l)},Re=l=>{t(At,l),el(l),n.previousValue=l==null?void 0:l.toString()},tl=(l=[],d)=>{if(!Ne(d))return l.indexOf(d);const y=e.valueKey;let E=-1;return l.some((ae,se)=>ne(ae,y)===ne(d,y)?(E=se,!0):!1),E},be=l=>Ne(l)?ne(l,e.valueKey):l,ll=l=>Ne(l)?l.label:l,Je=()=>te(()=>{var l,d;if(!f.value)return;const y=$.value;W.value.height=y.offsetHeight,T.value&&D.value!==!1&&((d=(l=w.value)==null?void 0:l.updatePopper)==null||d.call(l))}),mt=()=>{var l,d;if(nl(),Z(),(d=(l=w.value)==null?void 0:l.updatePopper)==null||d.call(l),e.multiple)return Je()},nl=()=>{const l=$.value;l&&(n.selectWidth=l.getBoundingClientRect().width)},vt=(l,d,y=!0)=>{var E,ae;if(e.multiple){let se=e.modelValue.slice();const Fe=tl(se,be(l));Fe>-1?(se=[...se.slice(0,Fe),...se.slice(Fe+1)],n.cachedOptions.splice(Fe,1),L(l)):(e.multipleLimit<=0||se.length<e.multipleLimit)&&(se=[...se,be(l)],n.cachedOptions.push(l),H(l),ye(d)),Re(se),l.created&&(n.query="",pt(""),n.inputLength=20),e.filterable&&!e.reserveKeyword&&((ae=(E=f.value).focus)==null||ae.call(E),De("")),e.filterable&&(n.calculatedWidth=G.value.getBoundingClientRect().width),Je(),dl()}else v.value=d,n.selectedLabel=l.label,Re(be(l)),T.value=!1,n.isComposing=!1,n.isSilentBlur=y,H(l),l.created||F(),ye(d)},ol=(l,d)=>{const{valueKey:y}=e,E=e.modelValue.indexOf(ne(d,y));if(E>-1&&!U.value){const ae=[...e.modelValue.slice(0,E),...e.modelValue.slice(E+1)];return n.cachedOptions.splice(E,1),Re(ae),t("remove-tag",ne(d,y)),n.softFocus=!0,L(d),te(ze)}l.stopPropagation()},al=l=>{const d=n.isComposing;n.isComposing=!0,n.softFocus?n.softFocus=!1:d||t("focus",l)},ht=l=>(n.softFocus=!1,te(()=>{var d,y;(y=(d=f.value)==null?void 0:d.blur)==null||y.call(d),G.value&&(n.calculatedWidth=G.value.getBoundingClientRect().width),n.isSilentBlur?n.isSilentBlur=!1:n.isComposing&&t("blur",l),n.isComposing=!1})),sl=()=>{n.displayInputValue.length>0?De(""):T.value=!1},il=l=>{if(n.displayInputValue.length===0){l.preventDefault();const d=e.modelValue.slice();d.pop(),L(n.cachedOptions.pop()),Re(d)}},rl=()=>{let l;return ke(e.modelValue)?l=[]:l=void 0,n.softFocus=!0,e.multiple?n.cachedOptions=[]:n.selectedLabel="",T.value=!1,Re(l),t("clear"),F(),te(ze)},De=l=>{n.displayInputValue=l,n.inputValue=l},gt=(l,d=void 0)=>{const y=N.value;if(!["forward","backward"].includes(l)||U.value||y.length<=0||x.value)return;if(!T.value)return Xe();d===void 0&&(d=n.hoveringIndex);let E=-1;l==="forward"?(E=d+1,E>=y.length&&(E=0)):l==="backward"&&(E=d-1,(E<0||E>=y.length)&&(E=y.length-1));const ae=y[E];if(ae.disabled||ae.type==="Group")return gt(l,E);ye(E),xe(E)},ul=()=>{if(T.value)~n.hoveringIndex&&N.value[n.hoveringIndex]&&vt(N.value[n.hoveringIndex],n.hoveringIndex,!1);else return Xe()},ye=l=>{n.hoveringIndex=l},bt=()=>{n.hoveringIndex=-1},dl=()=>{var l;const d=f.value;d&&((l=d.focus)==null||l.call(d))},yt=l=>{const d=l.target.value;if(De(d),n.displayInputValue.length>0&&!T.value&&(T.value=!0),n.calculatedWidth=G.value.getBoundingClientRect().width,e.multiple&&Je(),e.remote)ft();else return ct()},cl=()=>(T.value=!1,ht()),fl=()=>(n.inputValue=n.displayInputValue,te(()=>{~ee.value&&(ye(ee.value),xe(n.hoveringIndex))})),xe=l=>{a.value.scrollToItem(l)},_e=()=>{if(bt(),e.multiple)if(e.modelValue.length>0){let l=!1;n.cachedOptions.length=0,n.previousValue=e.modelValue.toString(),e.modelValue.forEach(d=>{const y=N.value.findIndex(E=>be(E)===d);~y&&(n.cachedOptions.push(N.value[y]),l||ye(y),l=!0)})}else n.cachedOptions=[],n.previousValue=void 0;else if(I.value){n.previousValue=e.modelValue;const l=N.value,d=l.findIndex(y=>be(y)===be(e.modelValue));~d?(n.selectedLabel=l[d].label,ye(d)):n.selectedLabel=`${e.modelValue}`}else n.selectedLabel="",n.previousValue=void 0;F(),Z()};return Se(T,l=>{var d,y;t("visible-change",l),l?(y=(d=w.value).update)==null||y.call(d):(n.displayInputValue="",n.previousQuery=null,K(""))}),Se(()=>e.modelValue,(l,d)=>{var y;(!l||l.toString()!==n.previousValue)&&_e(),!Tt(l,d)&&e.validateEvent&&((y=c==null?void 0:c.validate)==null||y.call(c,"change").catch(E=>Vl()))},{deep:!0}),Se(()=>e.options,()=>{const l=f.value;(!l||l&&document.activeElement!==l)&&_e()},{deep:!0}),Se(N,()=>te(a.value.resetScrollTop)),Se(()=>m.value,l=>{l||bt()}),Bt(()=>{_e()}),Il(W,mt),{collapseTagSize:le,currentPlaceholder:de,expanded:T,emptyText:D,popupHeight:Y,debounce:C,filteredOptions:N,iconComponent:b,iconReverse:B,inputWrapperStyle:q,popperSize:p,dropdownMenuVisible:m,hasModelValue:I,shouldShowPlaceholder:ue,selectDisabled:U,selectSize:_,showClearBtn:oe,states:n,tagMaxWidth:ce,nsSelectV2:i,nsInput:r,calculatorRef:G,controlRef:s,inputRef:f,menuRef:a,popper:w,selectRef:W,selectionRef:$,popperRef:fe,validateState:h,validateIcon:S,showTagList:O,collapseTagList:R,debouncedOnInputChange:ft,deleteTag:ol,getLabel:ll,getValueKey:be,handleBlur:ht,handleClear:rl,handleClickOutside:cl,handleDel:il,handleEsc:sl,handleFocus:al,handleMenuEnter:fl,handleResize:mt,toggleMenu:Xe,scrollTo:xe,onInput:yt,onKeyboardNavigate:gt,onKeyboardSelect:ul,onSelect:vt,onHover:ye,onUpdateInputValue:De,handleCompositionStart:pe,handleCompositionEnd:Ae,handleCompositionUpdate:me}},$n=Me({name:"ElSelectV2",components:{ElSelectMenu:Mn,ElTag:Jl,ElTooltip:Yl,ElIcon:Cl},directives:{ClickOutside:Zl,ModelText:Ol},props:Vn,emits:[At,Dt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const o=g(()=>{const{modelValue:r,multiple:u}=e,c=u?[]:void 0;return ke(r)?u?r:c:u?c:r}),i=kn(je({...Vt(e),modelValue:o}),t);return Tl(_t,{props:je({...Vt(e),height:i.popupHeight,modelValue:o}),popper:i.popper,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:o}}}),Bn={key:0},An=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Dn=["textContent"],Fn=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Hn=["textContent"];function Pn(e,t,o,i,r,u){const c=Pe("el-tag"),n=Pe("el-tooltip"),v=Pe("el-icon"),p=Pe("el-select-menu"),s=It("model-text"),f=It("click-outside");return Ke((z(),A("div",{ref:"selectRef",class:M([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=J((...a)=>e.toggleMenu&&e.toggleMenu(...a),["stop"])),onMouseenter:t[25]||(t[25]=a=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=a=>e.states.comboBoxHovering=!1)},[Q(n,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=a=>e.states.inputValue=e.states.displayInputValue)},{default:X(()=>[P("div",{ref:"selectionRef",class:M([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(z(),A("div",Bn,[We(e.$slots,"prefix")])):ve("v-if",!0),e.multiple?(z(),A("div",{key:1,class:M(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(z(),A(we,{key:0},[(z(!0),A(we,null,Ue(e.showTagList,a=>(z(),A("div",{key:e.getValueKey(a),class:M(e.nsSelectV2.e("selected-item"))},[Q(c,{closable:!e.selectDisabled&&!(a!=null&&a.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:w=>e.deleteTag(w,a)},{default:X(()=>[P("span",{class:M(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},j(a==null?void 0:a.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),P("div",{class:M(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(z(),he(c,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:X(()=>[e.collapseTagsTooltip?(z(),he(n,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:X(()=>[P("span",{class:M(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},"+ "+j(e.modelValue.length-e.maxCollapseTags),7)]),content:X(()=>[P("div",{class:M(e.nsSelectV2.e("selection"))},[(z(!0),A(we,null,Ue(e.collapseTagList,a=>(z(),A("div",{key:e.getValueKey(a),class:M(e.nsSelectV2.e("selected-item"))},[Q(c,{closable:!e.selectDisabled&&!a.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:w=>e.deleteTag(w,a)},{default:X(()=>[P("span",{class:M(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},j(e.getLabel(a)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(z(),A("span",{key:1,class:M(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},"+ "+j(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):ve("v-if",!0)],2)],64)):(z(!0),A(we,{key:1},Ue(e.states.cachedOptions,a=>(z(),A("div",{key:e.getValueKey(a),class:M(e.nsSelectV2.e("selected-item"))},[Q(c,{closable:!e.selectDisabled&&!a.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:w=>e.deleteTag(w,a)},{default:X(()=>[P("span",{class:M(e.nsSelectV2.e("tags-text")),style:re({maxWidth:`${e.tagMaxWidth}px`})},j(e.getLabel(a)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),P("div",{class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:re(e.inputWrapperStyle)},[Ke(P("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:M([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...a)=>e.onUpdateInputValue&&e.onUpdateInputValue(...a)),onFocus:t[1]||(t[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:t[2]||(t[2]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onInput:t[3]||(t[3]=(...a)=>e.onInput&&e.onInput(...a)),onCompositionstart:t[4]||(t[4]=(...a)=>e.handleCompositionStart&&e.handleCompositionStart(...a)),onCompositionupdate:t[5]||(t[5]=(...a)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...a)),onCompositionend:t[6]||(t[6]=(...a)=>e.handleCompositionEnd&&e.handleCompositionEnd(...a)),onKeydown:[t[7]||(t[7]=ie(J(a=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=ie(J(a=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=ie(J((...a)=>e.onKeyboardSelect&&e.onKeyboardSelect(...a),["stop","prevent"]),["enter"])),t[10]||(t[10]=ie(J((...a)=>e.handleEsc&&e.handleEsc(...a),["stop","prevent"]),["esc"])),t[11]||(t[11]=ie(J((...a)=>e.handleDel&&e.handleDel(...a),["stop"]),["delete"]))]},null,42,An),[[s,e.states.displayInputValue]]),e.filterable?(z(),A("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M(e.nsSelectV2.e("input-calculator")),textContent:j(e.states.displayInputValue)},null,10,Dn)):ve("v-if",!0)],6)],2)):(z(),A(we,{key:2},[P("div",{class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Ke(P("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:M(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...a)=>e.handleCompositionStart&&e.handleCompositionStart(...a)),onCompositionupdate:t[13]||(t[13]=(...a)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...a)),onCompositionend:t[14]||(t[14]=(...a)=>e.handleCompositionEnd&&e.handleCompositionEnd(...a)),onFocus:t[15]||(t[15]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onBlur:t[16]||(t[16]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onInput:t[17]||(t[17]=(...a)=>e.onInput&&e.onInput(...a)),onKeydown:[t[18]||(t[18]=ie(J(a=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[19]||(t[19]=ie(J(a=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[20]||(t[20]=ie(J((...a)=>e.onKeyboardSelect&&e.onKeyboardSelect(...a),["stop","prevent"]),["enter"])),t[21]||(t[21]=ie(J((...a)=>e.handleEsc&&e.handleEsc(...a),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...a)=>e.onUpdateInputValue&&e.onUpdateInputValue(...a))},null,42,Fn),[[s,e.states.displayInputValue]])],2),e.filterable?(z(),A("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:j(e.states.displayInputValue)},null,10,Hn)):ve("v-if",!0)],64)),e.shouldShowPlaceholder?(z(),A("span",{key:3,class:M([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},j(e.currentPlaceholder),3)):ve("v-if",!0),P("span",{class:M(e.nsSelectV2.e("suffix"))},[e.iconComponent?Ke((z(),he(v,{key:0,class:M([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:X(()=>[(z(),he(Le(e.iconComponent)))]),_:1},8,["class"])),[[El,!e.showClearBtn]]):ve("v-if",!0),e.showClearBtn&&e.clearIcon?(z(),he(v,{key:1,class:M([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:J(e.handleClear,["prevent","stop"])},{default:X(()=>[(z(),he(Le(e.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0),e.validateState&&e.validateIcon?(z(),he(v,{key:2,class:M([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:X(()=>[(z(),he(Le(e.validateIcon)))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)]),content:X(()=>[Q(p,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:X(a=>[We(e.$slots,"default",Ml(zl(a)))]),empty:X(()=>[We(e.$slots,"empty",{},()=>[P("p",{class:M(e.nsSelectV2.e("empty"))},j(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[f,e.handleClickOutside,e.popperRef]])}var Ge=ut($n,[["render",Pn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Ge.install=e=>{e.component(Ge.name,Ge)};const Kn=Ge,Wn=Kn;const Un=["onClick"],qn=["innerHTML"],Gn={__name:"SearchPage",props:{},emits:["response"],setup(e,{emit:t}){const o=k(999999999),i=k();t("response","搜索");const r=k(null),u=k([]),c=k([]);Pl(p=>{c.value=p.data.tags.map((s,f)=>({value:s,label:s}))},p=>{Ot({title:"获取标签失败",message:p,type:"error"})});const n=p=>{let s="";u.value.length>0&&(s=u.value.join(",")),console.log(u),Kl(p,o.value,s,r.value,f=>{i.value=f.data.articleList,window.scrollTo({top:0,behavior:"smooth"})},f=>{Ot({title:"获取文章列表失败",message:f.message,type:"error"})})},v=p=>{window.location.href="/article/"+p};return(p,s)=>{const f=Wl,a=Wn;return z(),A(we,null,[Q(f,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=w=>r.value=w),placeholder:"请在此搜索",onKeyup:s[1]||(s[1]=ie(w=>n(1),["enter","native"]))},null,8,["modelValue"]),P("p",null,[Q(a,{modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=w=>u.value=w),filterable:"",options:c.value,placeholder:"请选择标签",style:{width:"100%"},multiple:"",clearable:"",onChange:s[3]||(s[3]=w=>n(1))},null,8,["modelValue","options"])]),(z(!0),A(we,null,Ue(i.value,(w,W)=>(z(),A("div",{class:"home-content",onClick:$=>v(w.id)},[P("h2",null,j(w.title),1),P("div",{innerHTML:w.introduction,class:"previewHtml"},null,8,qn),Ll(" 发布者："+j(w.userName)+"      修改时间："+j(V(Nl)(w.updatedAt)),1)],8,Un))),256))],64)}}},Xn=Rl(Gn,[["__scopeId","data-v-eb1c3276"]]);export{Xn as default};
